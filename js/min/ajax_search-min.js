jQuery(function($){var e="DESC",t="date",n,c=document.querySelector(".c-results-sort__reverse"),o=document.querySelectorAll(".category-name"),r=document.querySelectorAll(".author-name"),a=document.querySelectorAll(".c-results-sort"),l=document.querySelector(".c-archive-list"),s=document.querySelector(".c-archive-wrapper"),i=document.getElementById("show_all"),u,d=function(){u=document.querySelectorAll(".c-archive-module")},f=function(){o.forEach(function(e){p=e.parentNode,p.classList.remove("selected")})},m=function(){a.forEach(function(e){e.classList.remove("selected")})},v=function(e){var t=document.createElement("div");t.classList.add("loader"),t.innerHTML="Loading...",e.innerHTML="",e.appendChild(t)},y=function(e){u.forEach(function(t){t.classList.remove("removed"),t.classList.contains(e)||t.classList.add("removed")})},L=function(){n=document.getElementById("query").textContent,n?n:n=document.querySelector(".page-title").textContent;var c=document.querySelector(".selected .category-name"),o;c?o=c.textContent:null;var r={action:"filter",query:n,order:e,orderby:t,category_name:o};return r},E=function(){$.ajax({url:myAjax.ajaxurl,data:L(),type:"POST",beforeSend:function(e){v(l)},success:function(e){e?l.innerHTML=e:console.log("nodata")},error:function(e){console.log(e)}})};d(),o.forEach(function(e){e.addEventListener("click",function(){f();var e=this.parentNode;e.classList.add("selected"),E()})}),i.addEventListener("click",function(){u.forEach(function(e){e.classList.remove("removed")}),f()}),a.forEach(function(e,n){e.addEventListener("click",function(){switch(m(),d(),this.classList.add("selected"),n){case 0:t="date";break;case 1:t="title";break;case 2:t="relevance"}E()})}),c.addEventListener("click",function(){d(),e="DESC"===e?"ASC":"DESC",E()})});